function loaderShow(e){e=document.querySelector(e);return e.classList.contains("ld-hide")&&(e.classList.remove("ld-hide"),e.classList.add("ld-show")),e}function loaderHide(e){e.classList.remove("ld-show"),e.classList.add("ld-hide")}$(document).ready(function(){let o=document.querySelector(".nav"),s=document.querySelector(".message-error");var e=$("#form"),t=($(".menu-button").on("click",function(e){e.preventDefault(),o.style.right="0",e.stopPropagation()}),$(".link-close").on("click",function(e){e.preventDefault(),o.style.right="-178px",e.stopPropagation()}),{onComplete:function(e){console.log("PHONE Completed!:"+e)},onChange:function(e){}});function i(){setTimeout(function(){$(".form-thanks").show("slide",500)},1e3)}function n(){s.classList.contains("hidden")||s.classList.add("hidden")}$("#phone").mask("+999(99)999-99-99",t),$(".form-thanks").hide(),e.parsley().on("form:submit",function(e){console.log("form submitted: "+e.validationResult);var o,t=[];for(o of e.fields)t.push(o.value);let n=loaderShow(".loader");return $.ajax({method:"POST",url:"https://testologia.ru/checkout",data:{product:t[0],name:t[1],phone:t[2]},dataType:"json"}).done(function(e){if(console.log(e.success),e.success){var o;for(o of $("#form").find("input"))o.value="";$("#form").hide("fade",1e3,i)}setTimeout(function(){loaderHide(n),e.success||s.classList.toggle("hidden")},500)}),!1}),e.on("input",function(e){n()}),$(".products__list").on("click",function(e){var o;"A"===e.target.nodeName?(o=e.target.parentElement.previousElementSibling.textContent,n(),$("#choice").val(o),$(".form-thanks").hide(),$("#form").show()):e.preventDefault(),e.stopPropagation()})});